
**GSG UI RENDERING PROTOCOL ‚Äî FINAL**

---

### SECTION 1: CARD RENDERING RULES

**1.1. Always verify card data against JSON before rendering**

- Load data from final NARC and PCU card JSON files.
- Match cards by exact `name` field.
- Use the following fields:
  - `name`
  - `rank` (BG, SG, SL)
  - `deploy_cost` (array of wind costs, render as ‚ûî per wind)
  - `image_url_mini` (for field/hand view)
  - `abilities` (include `name` and `cost`)
  - `faction`

**1.2. Card Name Display**

- Display name as **bold text**
- Link only the card name text (not icons) to the full-size image

**1.3. Rank Icons**

- Use no icon for BG
- Use ‚¨¶ (yellow diamond) for SG
- Use ‚≠ê (yellow star) for SL

**1.4. Deploy Cost**

- Render each wind unit as a single ‚ûî
- Deploy cost appears next to card in hand (e.g., ‚ûî‚ûî‚ûî)

**1.5. Abilities**

- Always list abilities beneath the card name
- Each ability goes on its **own line**
- Format: ‚ûî [ABILITY NAME] where the number of arrows matches the cost
- Abilities are **clickable** links
  - When clicked, trigger targeting procedure if applicable
  - Disable or hide if used this turn or blocked by effect

**1.6. Wind Status**

- Wind is shown using red bars: ‚ñÆ per wind unit
- Maximum: 4 bars (dead)
- Show adjacent to card in field view

**1.7. Mini Image Rendering**

- Always use `image_url_mini` from card JSON
- Align cards side-by-side per faction
- The faction whose turn it is gets second row

**1.8. Squad Leader Deployment**

- SLs are never in hand
- They start the game on field with **0 wind**

**1.9. Squad Goon Uniqueness**

- A player may not deploy a second SG of the **same name** if one is already on field
- Having different SGs (e.g., Vex and Krax) is allowed

**1.10. Retired Cards**

- Cards paid for deploy are **Retired** (removed permanently)
- Dead goons go to **Dead Pool** unless marked "Retired" in their card effect

---

### SECTION 2: TURN & ACTION FLOW

**2.1. Start of Game**

- Each player begins with their SL in play with 0 wind
- Each player draws 7 cards from their deck (excluding the SL)
- No card limit in hand size

**2.2. Turn Structure**
Turns alternate between players. Each turn follows this structure:

1. **Unwind Phase**

   - All of the active player's goons reduce wind by 1 (if > 0)
   - SLs also unwind unless destroyed or retired

2. **Draw Phase**

   - Draw 1 card (if deck not empty) card must be from card final json file for players faction

3. **Ability Phase**

   - Any goon with a clickable ability may use **1 ability** during this phase
   - Abilities cost wind ‚ûî icons (spent from that goon unless stated otherwise)
   - unusable abilities are hidden for rest of the turn

4. **Deploy Phase**

   - Deploy any number of goons by spending wind from your field
   - Cannot deploy more than one SG of the same name
   - Wind used for payment is added to the goons who paid it
   - Cards used from the Dead Pool to pay costs are **Retired**

5. **End Phase**

   - Resolve end-of-turn effects
   - No discard ‚Äî hand size is unlimited

**2.3. Death, Dead Pool, Retirement**

- A goon with 4 wind = dead ‚Üí move to Dead Pool
- SL with 4 wind = dead ‚Üí game is lost
- Cards used as payment ‚Üí **Retired (banished from game)**
- Cards revived from Dead Pool ‚Üí **Retired** if destroyed
- Cards in the Dead Pool that are used to pay deploy costs are **Retired** ‚Äî permanently removed from the game (do not return to Dead Pool or discard)

**2.4. Illegal Actions**

- Winding a SL to 4 = immediate loss
- Trying to deploy a duplicate SG = illegal (cancelled)
- Trying to use more than one ability per turn = illegal (ignored)

---

### SECTION 3: FIELD & HAND DISPLAY LAYOUT

### 3.1 Field Display

- Field is displayed in two horizontal rows:

  - **Top Row** = Opponent (non-active faction)
  - **Bottom Row** = Active Player (faction whose turn it is)

- Cards are displayed using their **mini card images** (from `image_url_mini` in JSON)

- Cards appear **side-by-side per faction**, left to right

- Each card block includes:

  - Mini image
  - **Bold card name** (linked to full-size image)
  - Rank icon: ‚≠ê (SL), üî∏ (SG), none for BG
  - wind bars: ‚ñÆ for each wind unit (max 4)
  - **Abilities** listed beneath name, one per line:
    - Format: ‚û§‚û§ [ABILITY NAME]
    - Each ability is a clickable link if usable
    - If the goon has already used an ability or is blocked, abilities are not links

### 3.2 Hand Display

- Hand is shown **below the field**, only for active player
- Each card includes:
  - Mini image
  - **Bold name** (linked to full image)
  - Rank icon: ‚≠ê (SL), üî∏ (SG), none for BG
  - Resist icon:üîπ if goon has ‚Äòresist' listed in its icons array
  - Mechanical icon:‚öôÔ∏è if goon has ‚Äòmechanical‚Äô listed in its icons array
  - Organic icon:ü•© if goon has ‚Äòorganic‚Äô listed in its icons array
  - Wind Deploy cost as arrows: ‚û§‚û§‚û§
  - Organic cards from dead pool cost as organic icons: ü•©ü•©ü•©
  - Mechanical cards from dead pool cost as mechanical icons: ‚öôÔ∏è‚öôÔ∏è‚öôÔ∏è
- Cards appear side-by-side
- Hand has no size limit

### 3.3 Ability Interaction

- Clicking an ability triggers targeting procedure (if required)
- System asks user to select a valid goon from the field
- Once ability is used, it is unsuable and unclickable for the rest of the turn

---

### SECTION 4: ICON DEFINITIONS AND UI STYLE RULES

// [TO BE COMPLETED]

---

### SECTION 5: GAMESTATE STRUCTURE

**5.1 Core Objects**

##### Player Object

```json
{
  "faction": "NARC" | "PCU",
  "sl": <CardObject>,
  "deck": [<CardObject>],
  "hand": [<CardObject>],
  "field": [<CardObject>],
  "discard_pile": [<CardObject>],
  "retired": [<CardObject>]
}
```

##### CardObject

- Match format exactly from final JSON files

```json
{
  "name": "Killjoy",
  "rank": "BG",
  "faction": "NARC",
  "deploy_cost": ["2w"],
  "abilities": [
    { "name": "NEUTRALIZE", "cost": ["1w"] }
  ],
  "icons": ["mechanical", "resist"],
  "image_url": "...",
  "image_url_mini": "...",
  "wind": 0,
  "used_ability": false
}
```

**5.2 Game Object**

```json
{
  "turn": 1,
  "active_faction": "NARC",
  "narc_player": <PlayerObject>,
  "pcu_player": <PlayerObject>,
  "dead_pool": [<CardObject>],
  "log": [<ActionLogEntry>]
}
```

**5.3 ActionLogEntry**

```json
{
  "turn": 1,
  "faction": "NARC",
  "action": "Killjoy uses NEUTRALIZE on Meatjack"
}
```

**5.4 Ability Use Limits**

- Each goon may use only **1 ability per turn**
- Flag `used_ability: true` disables clickable links
- Reset `used_ability` to false at start of player's next turn
